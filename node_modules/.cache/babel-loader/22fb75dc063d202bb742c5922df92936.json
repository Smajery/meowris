{"ast":null,"code":"import { authSlice } from \"./AuthSlice\";\nimport { login, registration } from \"../../../http/userAPI\";\nexport const AuthActionCreator = {\n  setIsAuth: isAuth => dispatch => {\n    dispatch(authSlice.actions.setIsAuth(isAuth));\n  },\n  setUser: user => dispatch => {\n    dispatch(authSlice.actions.setUser(user));\n  },\n  setUserImg: img => dispatch => {\n    dispatch(authSlice.actions.setUserImg(img));\n  },\n  setIsError: boolean => dispatch => {\n    dispatch(authSlice.actions.setIsError(boolean));\n  },\n  setLogMessage: message => dispatch => {\n    dispatch(authSlice.actions.setLogMessage(message));\n  },\n  setRegMessage: message => dispatch => {\n    dispatch(authSlice.actions.setRegMessage(message));\n  },\n  singIn: (email, password) => dispatch => {\n    try {\n      const user = {\n        email,\n        password\n      };\n      registration(JSON.stringify(user)).then(() => {\n        dispatch(AuthActionCreator.setIsError(true));\n        dispatch(AuthActionCreator.setRegMessage('Вітаємо, ви зареєструвалися!'));\n      });\n      registration(JSON.stringify(user)).catch(error => {\n        dispatch(AuthActionCreator.setIsError(true));\n        if (error.response.status !== 400 && error.response.status !== 409 && error.response.status !== 401 && error.response.status !== 404) {\n          dispatch(AuthActionCreator.setRegMessage('Невідома помилка, зберігайте спокій :)'));\n          return;\n        }\n        dispatch(AuthActionCreator.setRegMessage(error.response.data.message));\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  },\n  logIn: (email, password) => dispatch => {\n    try {\n      login(email, password).then(() => {\n        dispatch(AuthActionCreator.setIsAuth(true));\n        dispatch(AuthActionCreator.setUser(JSON.parse(localStorage.getItem('user'))));\n        localStorage.setItem('auth', JSON.stringify(true));\n      });\n      login(email, password).catch(error => {\n        dispatch(AuthActionCreator.setIsError(true));\n        if (error.response.status !== 400 && error.response.status !== 409 && error.response.status !== 401 && error.response.status !== 404) {\n          dispatch(AuthActionCreator.setRegMessage('Невідома помилка, зберігайте спокій :)'));\n          return;\n        }\n        dispatch(AuthActionCreator.setLogMessage(error.response.data.message));\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  },\n  logOut: () => dispatch => {\n    try {\n      dispatch(AuthActionCreator.setUser({}));\n      localStorage.removeItem('user');\n      localStorage.removeItem('token');\n      localStorage.removeItem('auth');\n      dispatch(AuthActionCreator.setIsAuth(false));\n    } catch (e) {\n      console.log(e);\n    }\n  }\n};","map":{"version":3,"names":["authSlice","login","registration","AuthActionCreator","setIsAuth","isAuth","dispatch","actions","setUser","user","setUserImg","img","setIsError","boolean","setLogMessage","message","setRegMessage","singIn","email","password","JSON","stringify","then","catch","error","response","status","data","e","console","log","logIn","parse","localStorage","getItem","setItem","logOut","removeItem"],"sources":["/Users/alexander/Desktop/myStudy/client/src/store/reducers/auth/action-creator.js"],"sourcesContent":["import {authSlice} from \"./AuthSlice\";\nimport {login, registration} from \"../../../http/userAPI\";\n\nexport const AuthActionCreator = {\n    setIsAuth: (isAuth) => dispatch => {\n        dispatch(authSlice.actions.setIsAuth(isAuth))\n    },\n    setUser: (user) => dispatch => {\n        dispatch(authSlice.actions.setUser(user))\n    },\n    setUserImg: (img) => dispatch => {\n        dispatch(authSlice.actions.setUserImg(img))\n    },\n    setIsError: (boolean) => dispatch => {\n        dispatch(authSlice.actions.setIsError(boolean))\n    },\n    setLogMessage: (message) => dispatch => {\n        dispatch(authSlice.actions.setLogMessage(message))\n    },\n    setRegMessage: (message) => dispatch => {\n        dispatch(authSlice.actions.setRegMessage(message))\n    },\n    singIn: (email, password) => dispatch => {\n        try {\n            const user = {\n                email,\n                password\n            }\n            registration(JSON.stringify(user)).then(() => {\n                dispatch(AuthActionCreator.setIsError(true))\n                dispatch(AuthActionCreator.setRegMessage('Вітаємо, ви зареєструвалися!'))\n            })\n            registration(JSON.stringify(user)).catch(error => {\n                dispatch(AuthActionCreator.setIsError(true))\n                if (error.response.status !== 400 &&\n                    error.response.status !== 409 &&\n                    error.response.status !== 401 &&\n                    error.response.status !== 404) {\n                    dispatch(AuthActionCreator.setRegMessage('Невідома помилка, зберігайте спокій :)'))\n                    return\n                }\n                    dispatch(AuthActionCreator.setRegMessage(error.response.data.message))\n            })\n        } catch (e) {\n            console.log(e)\n        }\n    },\n    logIn: (email, password) => dispatch => {\n        try {\n            login(email, password).then(() => {\n                dispatch(AuthActionCreator.setIsAuth(true))\n                dispatch(AuthActionCreator.setUser(JSON.parse(localStorage.getItem('user'))))\n                localStorage.setItem('auth', JSON.stringify(true))\n            })\n            login(email, password).catch(error => {\n                dispatch(AuthActionCreator.setIsError(true))\n                if (error.response.status !== 400 &&\n                    error.response.status !== 409 &&\n                    error.response.status !== 401 &&\n                    error.response.status !== 404) {\n                    dispatch(AuthActionCreator.setRegMessage('Невідома помилка, зберігайте спокій :)'))\n                    return\n                }\n                dispatch(AuthActionCreator.setLogMessage(error.response.data.message))\n            })\n        } catch (e) {\n            console.log(e)\n        }\n    },\n    logOut: () => dispatch => {\n        try {\n            dispatch(AuthActionCreator.setUser({}))\n            localStorage.removeItem('user')\n            localStorage.removeItem('token')\n            localStorage.removeItem('auth')\n            dispatch(AuthActionCreator.setIsAuth(false))\n        } catch (e) {\n            console.log(e)\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { memorySlice } from \"./MemorySlice\";\nimport defaultImg from \"../../../img/default-img.png\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { createCategory, deleteCategory } from \"../../../http/categoriesAPI\";\nimport { createMemory } from \"../../../http/memoriesAPI\";\nexport const MemoryActionCreator = {\n  setCategories: categories => dispatch => {\n    dispatch(memorySlice.actions.setCategories(categories));\n  },\n  addCategory: (categoryName, userId) => dispatch => {\n    try {\n      const category = {\n        title: categoryName,\n        userId: userId\n      };\n      createCategory(category).then(data => dispatch(memorySlice.actions.addCategory(data)));\n      dispatch(memorySlice.actions.setIsCategoryNameModal(false));\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  },\n  removeCategory: id => dispatch => {\n    try {\n      const result = window.confirm('Ви впевнені, що хочете видалити категорію?');\n      if (result) {\n        deleteCategory(id).then();\n        dispatch(memorySlice.actions.removeCategory());\n      }\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  },\n  setMemories: memories => dispatch => {\n    dispatch(memorySlice.actions.setMemories(memories));\n  },\n  setSelectedMemories: memories => dispatch => {\n    dispatch(memorySlice.actions.setSelectedMemories(memories));\n  },\n  addMemory: selectedCategoryId => dispatch => {\n    const memory = {\n      title: 'Новий спогад',\n      description: 'dsdsd',\n      rating: '0',\n      img: 'img',\n      categoryId: selectedCategoryId\n    };\n    createMemory(memory).then(data => dispatch(memorySlice.actions.addMemory(data)));\n  },\n  setIsCategoryNameModal: isCategoryNameModal => dispatch => {\n    dispatch(memorySlice.actions.setIsCategoryNameModal(!isCategoryNameModal));\n  },\n  setSelectedCategory: selectedCategory => dispatch => {\n    dispatch(memorySlice.actions.setSelectedCategory(selectedCategory));\n  },\n  setSelectedCategoryName: name => dispatch => {\n    dispatch(memorySlice.actions.setSelectedCategoryName(name));\n    dispatch(memorySlice.actions.setCategoryName(name));\n  },\n  setSelectedCategoryItemName: name => dispatch => {\n    dispatch(memorySlice.actions.setSelectedCategoryItemName(name));\n  },\n  setSelectedCategoryItemDescription: description => dispatch => {\n    dispatch(memorySlice.actions.setSelectedCategoryItemDescription(description));\n  },\n  setSelectedCategoryItemRating: rating => dispatch => {\n    dispatch(memorySlice.actions.setSelectedCategoryItemRating(rating));\n  },\n  setSelectedCategoryItemImg: img => dispatch => {\n    if (img.size > 5 * 1024 * 1024) {\n      alert(\"Файл должен быть не более 5 МБ.\");\n      return;\n    }\n    dispatch(memorySlice.actions.setSelectedCategoryItemImg(img));\n  },\n  setSelectedSort: sort => dispatch => {\n    dispatch(memorySlice.actions.setSelectedSort(sort));\n  },\n  setSelectedCategoryItems: newArray => dispatch => {\n    dispatch(memorySlice.actions.setSelectedCategoryItems(newArray));\n  },\n  setSelectedCategoryItem: item => dispatch => {\n    dispatch(memorySlice.actions.setSelectedCategoryItem(item));\n  },\n  addItemInCategory: selectedCategoryId => dispatch => {\n    try {\n      const newItem = {\n        id: uuidv4(),\n        name: 'Новий спогад',\n        img: defaultImg,\n        category: selectedCategoryId\n      };\n      dispatch(memorySlice.actions.addItemInCategory(newItem));\n    } catch (e) {\n      alert(e);\n    }\n  },\n  removeItemInCategory: itemId => dispatch => {\n    try {\n      const result = window.confirm('Ви впевнені, що хочете видалити категорію?');\n      if (result) {\n        dispatch(memorySlice.actions.removeItemInCategory(itemId));\n      }\n    } catch (e) {\n      alert(e);\n    }\n  },\n  sortSelectedCategoryItems: sort => async dispatch => {\n    try {\n      dispatch(MemoryActionCreator.setSelectedSort(sort));\n      dispatch(memorySlice.actions.sortSelectedCategoryItems(sort));\n    } catch (e) {\n      alert(e);\n    }\n  }\n};","map":{"version":3,"names":["memorySlice","defaultImg","v4","uuidv4","createCategory","deleteCategory","createMemory","MemoryActionCreator","setCategories","categories","dispatch","actions","addCategory","categoryName","userId","category","title","then","data","setIsCategoryNameModal","e","alert","response","message","removeCategory","id","result","window","confirm","setMemories","memories","setSelectedMemories","addMemory","selectedCategoryId","memory","description","rating","img","categoryId","isCategoryNameModal","setSelectedCategory","selectedCategory","setSelectedCategoryName","name","setCategoryName","setSelectedCategoryItemName","setSelectedCategoryItemDescription","setSelectedCategoryItemRating","setSelectedCategoryItemImg","size","setSelectedSort","sort","setSelectedCategoryItems","newArray","setSelectedCategoryItem","item","addItemInCategory","newItem","removeItemInCategory","itemId","sortSelectedCategoryItems"],"sources":["/Users/alexander/Desktop/myStudy/client/src/store/reducers/memory/action-creator.js"],"sourcesContent":["import {memorySlice} from \"./MemorySlice\";\nimport defaultImg from \"../../../img/default-img.png\"\nimport {v4 as uuidv4} from 'uuid';\nimport {createCategory, deleteCategory} from \"../../../http/categoriesAPI\";\nimport {createMemory} from \"../../../http/memoriesAPI\";\n\nexport const MemoryActionCreator = {\n    setCategories: (categories) => dispatch => {\n        dispatch(memorySlice.actions.setCategories(categories))\n    },\n    addCategory: (categoryName, userId) => dispatch => {\n        try {\n            const category = {\n                title: categoryName,\n                userId: userId,\n            }\n            createCategory(category).then(data => dispatch(memorySlice.actions.addCategory(data)))\n            dispatch(memorySlice.actions.setIsCategoryNameModal(false))\n        } catch (e) {\n            alert(e.response.data.message)\n        }\n    },\n    removeCategory: (id) => dispatch => {\n        try {\n            const result = window.confirm('Ви впевнені, що хочете видалити категорію?')\n            if (result) {\n                deleteCategory(id).then()\n                dispatch(memorySlice.actions.removeCategory())\n            }\n        } catch (e) {\n            alert(e.response.data.message)\n        }\n    },\n\n    setMemories: (memories) => dispatch => {\n       dispatch(memorySlice.actions.setMemories(memories))\n    },\n    setSelectedMemories: (memories) => dispatch => {\n        dispatch(memorySlice.actions.setSelectedMemories(memories))\n    },\n    addMemory: (selectedCategoryId) => dispatch => {\n        const memory = {\n            title: 'Новий спогад',\n            description: 'dsdsd',\n            rating: '0',\n            img: 'img',\n            categoryId: selectedCategoryId,\n        }\n        createMemory(memory).then(data => dispatch(memorySlice.actions.addMemory(data)))\n    },\n\n\n    setIsCategoryNameModal: (isCategoryNameModal) => dispatch => {\n        dispatch(memorySlice.actions.setIsCategoryNameModal(!isCategoryNameModal))\n    },\n    setSelectedCategory: (selectedCategory) => dispatch => {\n        dispatch(memorySlice.actions.setSelectedCategory(selectedCategory))\n    },\n    setSelectedCategoryName: (name) => dispatch => {\n        dispatch(memorySlice.actions.setSelectedCategoryName(name))\n        dispatch(memorySlice.actions.setCategoryName(name))\n    },\n    setSelectedCategoryItemName: (name) => dispatch => {\n        dispatch(memorySlice.actions.setSelectedCategoryItemName(name))\n    },\n    setSelectedCategoryItemDescription: (description) => dispatch => {\n        dispatch(memorySlice.actions.setSelectedCategoryItemDescription(description))\n    },\n    setSelectedCategoryItemRating: (rating) => dispatch => {\n        dispatch(memorySlice.actions.setSelectedCategoryItemRating(rating))\n    },\n    setSelectedCategoryItemImg: (img) => dispatch => {\n        if (img.size > 5 * 1024 * 1024) {\n            alert(\"Файл должен быть не более 5 МБ.\");\n            return;\n        }\n        dispatch(memorySlice.actions.setSelectedCategoryItemImg(img))\n    },\n    setSelectedSort: (sort) => dispatch => {\n        dispatch(memorySlice.actions.setSelectedSort(sort))\n    },\n    setSelectedCategoryItems: (newArray) => dispatch => {\n        dispatch(memorySlice.actions.setSelectedCategoryItems(newArray))\n    },\n    setSelectedCategoryItem: (item) => dispatch => {\n        dispatch(memorySlice.actions.setSelectedCategoryItem(item))\n    },\n    addItemInCategory: (selectedCategoryId) => dispatch => {\n        try {\n            const newItem = {\n                id: uuidv4(),\n                name: 'Новий спогад',\n                img: defaultImg,\n                category: selectedCategoryId\n            }\n            dispatch(memorySlice.actions.addItemInCategory(newItem))\n        } catch (e) {\n            alert(e)\n        }\n    },\n    removeItemInCategory: (itemId) => dispatch => {\n        try {\n            const result = window.confirm('Ви впевнені, що хочете видалити категорію?')\n            if (result) {\n                dispatch(memorySlice.actions.removeItemInCategory(itemId))\n            }\n        } catch (e) {\n            alert(e)\n        }\n    },\n    sortSelectedCategoryItems: (sort) => async dispatch => {\n        try {\n            dispatch(MemoryActionCreator.setSelectedSort(sort))\n            dispatch(memorySlice.actions.sortSelectedCategoryItems(sort))\n\n        } catch (e) {\n            alert(e)\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}